"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[246],{3326:function(e,t,r){r.d(t,{Z:function(){return i}});r(2791);var a=r(184),n=function(e){var t=e.variant,r=e.type,n=e.height,s=e.width,c=e.children;return(0,a.jsx)("button",{type:r||"button",className:"button button-".concat(t),style:{height:n,width:s||"100%"},children:c})},s=r(2426),c=r.n(s),i=function(e){var t=e.mode,r=e.createTask,s=e.updateTask,i=e.task,u=e.className;return"create"===t?(0,a.jsx)("div",{className:"".concat(u," form"),children:(0,a.jsxs)("form",{className:"form-container",method:"post",onSubmit:r,children:[(0,a.jsx)("h1",{className:"form-title",children:"New Task"}),(0,a.jsxs)("div",{className:"form-fields",children:[(0,a.jsxs)("div",{className:"form-field",children:[(0,a.jsx)("label",{htmlFor:"task",children:"Task"}),(0,a.jsx)("input",{type:"text",name:"task",id:"task",required:!0})]}),(0,a.jsxs)("div",{className:"form-field",children:[(0,a.jsx)("label",{htmlFor:"description",children:"Desc"}),(0,a.jsx)("textarea",{name:"description",id:"description"})]}),(0,a.jsxs)("div",{className:"form-field",children:[(0,a.jsx)("label",{htmlFor:"due-date",children:"Due Date"}),(0,a.jsx)("input",{type:"datetime-local",name:"due-date",id:"due-date",required:!0})]}),(0,a.jsxs)("div",{className:"form-field",children:[(0,a.jsx)("label",{htmlFor:"priority",children:"Priority"}),(0,a.jsxs)("select",{id:"priority",defaultValue:"high",name:"priority",required:!0,children:[(0,a.jsx)("option",{value:"high",children:"High"}),(0,a.jsx)("option",{value:"medium",children:"Medium"}),(0,a.jsx)("option",{value:"low",children:"Low"})]})]}),(0,a.jsx)(n,{variant:"primary",type:"submit",height:"30px",children:"Create Task"})]})]})}):"update"===t?(0,a.jsx)("div",{className:"".concat(u," form"),children:(0,a.jsxs)("form",{className:"form-container",method:"post",onSubmit:s,children:[(0,a.jsx)("h1",{className:"form-title",children:"Update Task"}),(0,a.jsxs)("div",{className:"form-fields",children:[(0,a.jsxs)("div",{className:"form-field",children:[(0,a.jsx)("label",{children:"Task ID"}),(0,a.jsx)("input",{type:"text",name:"taskid",defaultValue:i._id,disabled:!0})]}),(0,a.jsxs)("div",{className:"form-field",children:[(0,a.jsx)("label",{htmlFor:"task",children:"Task"}),(0,a.jsx)("input",{type:"text",name:"task",id:"task",defaultValue:i.task,required:!0})]}),(0,a.jsxs)("div",{className:"form-field",children:[(0,a.jsx)("label",{htmlFor:"description",children:"Desc"}),(0,a.jsx)("textarea",{name:"description",id:"description",defaultValue:i.desc})]}),(0,a.jsxs)("div",{className:"form-field",children:[(0,a.jsx)("label",{htmlFor:"due-date",children:"Due Date"}),(0,a.jsx)("input",{type:"datetime-local",name:"due-date",id:"due-date",defaultValue:c()(i.dueDate).format("yyyy-MM-DDTHH:mm"),required:!0})]}),(0,a.jsxs)("div",{className:"form-field",children:[(0,a.jsx)("label",{htmlFor:"priority",children:"Priority"}),(0,a.jsxs)("select",{id:"priority",defaultValue:i.priority,name:"priority",required:!0,children:[(0,a.jsx)("option",{value:"high",children:"High"}),(0,a.jsx)("option",{value:"medium",children:"Medium"}),(0,a.jsx)("option",{value:"low",children:"Low"})]})]}),(0,a.jsx)(n,{variant:"primary",type:"submit",height:"30px",children:"Update Task"})]})]})}):void 0}},5597:function(e,t,r){r.d(t,{Z:function(){return s}});r(2791);var a=r(7467),n=r(184),s=function(e){var t=e.open,r=e.close,s=e.children,c=e.image;return(0,n.jsx)(a.Z,{open:t,closeOnDocumentClick:!0,onClose:r,children:(0,n.jsxs)("div",{className:"modal",children:[(0,n.jsx)("a",{className:"close",onClick:r,children:"\xd7"}),(0,n.jsxs)("div",{className:"popup-container",children:[(0,n.jsx)("div",{className:"popup-image-container",children:(0,n.jsx)("img",{src:c,className:"popup-image"})}),(0,n.jsx)("div",{className:"popup-caption",children:s})]})]})})}},6640:function(e,t,r){var a=r(885),n=r(2791);t.Z=function(){var e=(0,n.useState)(!1),t=(0,a.Z)(e,2),r=t[0],s=t[1],c=(0,n.useState)({image:"",message:""}),i=(0,a.Z)(c,2),u=i[0],o=i[1];return{closeModal:function(){s(!1)},isOpen:r,modalContent:function(e,t){s(!0),o({image:e,message:t})},content:u}}},3402:function(e,t,r){r.d(t,{Z:function(){return x}});var a=r(8214),n=r(5861),s=r(885),c=r(2791),i=r(4569),u=r.n(i),o="https://taskr-tasktracker.herokuapp.com/api/v1",l=function(){var e=(0,n.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().get("".concat(o,"/tasks"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=(0,n.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().post("".concat(o,"/tasks"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,n.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().delete("".concat(o,"/tasks/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=(0,n.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().get("".concat(o,"/tasks/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,n.Z)((0,a.Z)().mark((function e(t,r){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().patch("".concat(o,"/tasks/").concat(t),r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),h=r(501),x=function(e){var t=e.modalContent,r=(0,h.lr)(),i=(0,s.Z)(r,2),u=i[0],o=(i[1],(0,c.useState)([])),x=(0,s.Z)(o,2),v=x[0],k=x[1],j=(0,c.useState)({}),g=(0,s.Z)(j,2),Z=g[0],b=g[1],y=u.get("id"),w=(0,c.useCallback)((0,n.Z)((0,a.Z)().mark((function e(){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l();case 3:r=e.sent,k(r.data.sort((function(e,t){return Number(new Date(t.dateCreated).getTime())-Number(new Date(e.dateCreated).getTime())}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t("/assets/man-stress.png",e.t0.response.data.error);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),N=(0,c.useCallback)(function(){var e=(0,n.Z)((0,a.Z)().mark((function e(r){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===r){e.next=12;break}return e.prev=1,e.next=4,m(r);case 4:return n=e.sent,b(n.data),e.abrupt("return",Z);case 9:e.prev=9,e.t0=e.catch(1),t("/assets/man-stress.png",e.t0.response.data.error);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),[]),D=(0,c.useCallback)(function(){var e=(0,n.Z)((0,a.Z)().mark((function e(r){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p(r);case 3:return n=e.sent,e.next=6,w();case 6:t("/assets/man-success.jpg",n.data.msg),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t("/assets/man-stress.png",e.t0.response.data.error);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),[w,t]),C=(0,c.useCallback)(function(){var e=(0,n.Z)((0,a.Z)().mark((function e(r){var n,s,c,i,u,o,l,p;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),n=new FormData(r.target),s=n.get("task"),c=n.get("description"),i=new Date(n.get("due-date")),u=n.get("priority"),o=(new Date).toLocaleString(),l={task:s,desc:c,dueDate:i,priority:u,dateCreated:o},e.prev=8,e.next=11,d(l);case 11:return p=e.sent,e.next=14,w();case 14:t("/assets/man-success.jpg",p.data.msg),r.target.reset(),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(8),t("/assets/man-stress.png",e.t0.response.data.error);case 21:case"end":return e.stop()}}),e,null,[[8,18]])})));return function(t){return e.apply(this,arguments)}}(),[w,t]),T=(0,c.useCallback)(function(){var e=(0,n.Z)((0,a.Z)().mark((function e(r){var n,s,c,i,u,o,l,d;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),n=new FormData(r.target),s=n.get("task"),c=n.get("description"),i=new Date(n.get("due-date")),u=n.get("priority"),o=(new Date).toLocaleString(),l={task:s,desc:c,dueDate:i,priority:u,dateCreated:o},e.prev=8,e.next=11,f(y,l);case 11:d=e.sent,t("/assets/man-success.jpg",d.data.msg),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),t("/assets/man-stress.png",e.t0.response.data.error);case 18:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(t){return e.apply(this,arguments)}}(),[t,y]);return(0,c.useEffect)((function(){w()}),[w]),(0,c.useEffect)((function(){N(y)}),[N,y]),{createTask:C,updateTask:T,deleteTask:D,tasks:v,task:Z}}},1246:function(e,t,r){r.r(t),r.d(t,{default:function(){return l}});r(2791);var a=r(3326),n=r(3402),s=r(71),c=r(6871),i=r(5597),u=r(6640),o=r(184),l=function(){var e=(0,u.Z)(),t=e.isOpen,r=e.closeModal,l=e.modalContent,d=e.content,p=(0,n.Z)({modalContent:l}),m=p.task,f=p.updateTask,h=(0,c.s0)();return(0,o.jsx)("section",{className:"updatetask-section",children:(0,o.jsxs)("div",{className:"updatetask-container",children:[(0,o.jsxs)("div",{className:"updatetask-back-container",onClick:function(){return h(-1)},children:[(0,o.jsx)(s.yGG,{className:"updatetask-back-icon"}),(0,o.jsx)("span",{children:"Back"})]}),(0,o.jsx)(a.Z,{mode:"update",task:m,updateTask:f,className:"updatetask-form"}),(0,o.jsx)(i.Z,{open:t,close:r,image:d.image,children:d.message})]})})}}}]);
//# sourceMappingURL=246.2b5dac41.chunk.js.map