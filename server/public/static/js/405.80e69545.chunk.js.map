{"version":3,"file":"static/js/405.80e69545.chunk.js","mappings":"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","sources":["components/common/Task/Task.jsx","components/Tasks/Tasks.jsx","components/common/LoadingTasks/LoadingTasks.jsx","components/common/Navbar/Navbar.jsx","components/common/PopUp/PopUp.jsx","hooks/useModals.js","hooks/requests.js","hooks/useTasks.js"],"sourcesContent":["import React from \"react\";\r\nimport { GoPrimitiveDot } from \"react-icons/go\";\r\nimport { BiEdit } from \"react-icons/bi\";\r\nimport { FiArchive } from \"react-icons/fi\";\r\nimport { IoRefreshOutline } from \"react-icons/io5\";\r\nimport { RiDeleteBinLine } from \"react-icons/ri\";\r\nimport { Link } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\nimport \"./task.scss\";\r\n\r\nconst Task = ({ task, id, description, dueDate, priority, dateArchived, deleteTask, archiveTask, restoreTask }) => {\r\n\r\n  const formatDate = (d) => {\r\n    const date = new Date(d);\r\n    const now = new Date();\r\n    if (moment(date).format(\"l\") !== moment(now).format(\"l\")) {\r\n      return moment(date).format(\"llll\");\r\n    }\r\n    return moment(date).format(\"[Today, ]lll\");\r\n  };\r\n\r\n  return (\r\n    <Link className=\"task\" to={`/view?id=${id}`}>\r\n      <div className=\"task-container\">\r\n        <div className=\"task-priority\">\r\n          <GoPrimitiveDot className={`priority-dot priority-dot-${priority}`} />\r\n        </div>\r\n        <div className=\"task-name-due\">\r\n          <div className=\"task-name\">{task}</div>\r\n          <div className=\"task-due\">{formatDate(dueDate)}</div>\r\n        </div>\r\n        <div className=\"task-update-archive\">\r\n          {dateArchived ? (\r\n            <>\r\n              <Link to={{}} onClick={restoreTask}>\r\n                <IoRefreshOutline className=\"task-btn task-update-btn\" />\r\n              </Link>\r\n              <Link to={{}} onClick={deleteTask}>\r\n                <RiDeleteBinLine className=\"task-btn task-archive-btn\" />\r\n              </Link>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <Link to={`/update?id=${id}`}>\r\n                <BiEdit className=\"task-btn task-update-btn\" />\r\n              </Link>\r\n              <Link to={{}} onClick={archiveTask}>\r\n                <FiArchive className=\"task-btn task-archive-btn\" />\r\n              </Link>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default Task;\r\n","import React from \"react\";\r\nimport Task from \"../common/Task/Task\";\r\nimport \"./tasks.scss\";\r\nimport LoadingTasks from \"../../components/common/LoadingTasks/LoadingTasks\";\r\n\r\nconst Tasks = ({archiveTask, updateTask, tasks, className, deleteTask, message, restoreTask, isLoading}) => {\r\n  if(isLoading) {\r\n    return <LoadingTasks className={className} />\r\n  } else {\r\n    return (\r\n      <div className={`${className} tasks`}>\r\n        {tasks.length === 0 && (\r\n          <div className=\"tasks-message\">\r\n            {message || \"No tasks currently ╮(＾▽＾)╭ \"}\r\n          </div>\r\n        )}\r\n        {tasks.length > 0 && (\r\n          <div className=\"tasks-container\">\r\n            <div className=\"tasks-inner-container\">\r\n              {tasks.map((task) => {\r\n                const date = new Date(task.dueDate);\r\n                return (\r\n                  <Task\r\n                    //property\r\n                    key={task._id}\r\n                    id={task._id}\r\n                    task={task.task}\r\n                    description={task.desc}\r\n                    dueDate={date.toLocaleString()}\r\n                    priority={task.priority}\r\n                    dateArchived={task.dateArchived}\r\n                    //method\r\n                    archiveTask={() => archiveTask(task._id)}\r\n                    updateTask={() => updateTask(task._id)}\r\n                    deleteTask={() => deleteTask(task._id)}\r\n                    restoreTask={() => restoreTask(task._id)}\r\n                  />\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default Tasks;\r\n","import React from \"react\";\r\nimport { Bars } from \"react-loader-spinner\";\r\nimport \"./loadingTasks.scss\";\r\n\r\nconst LoadingTasks = ({className}) => {\r\n  return (\r\n    <div className={`loading-container ${className}`}>\r\n      <Bars\r\n        width=\"60\"\r\n        color=\"#ffffff\"\r\n        ariaLabel=\"bars-loading\"\r\n        visible={true}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoadingTasks;\r\n","import React from 'react'\r\nimport \"./navbar.scss\";\r\nimport { AiOutlinePlus, AiFillCalendar, AiFillSetting } from \"react-icons/ai\";\r\nimport {FaClipboardList} from \"react-icons/fa\";\r\nimport { RiArchiveDrawerFill } from \"react-icons/ri\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\n\r\nconst Navbar = () => {\r\n  return (\r\n    <div className=\"navbar-container\">\r\n      <Link to=\"/\" className=\"navbar-add-btn\">\r\n        <AiOutlinePlus className=\"navbar-add-icon\" />\r\n      </Link>\r\n      <div className=\"navbar-btns\">\r\n        <ul className=\"navbar-top-btn\">\r\n          <Link to=\"/lists\">\r\n            <FaClipboardList className=\"navbar-icon\" />\r\n          </Link>\r\n          <Link to=\"/calendar\">\r\n            <AiFillCalendar className=\"navbar-icon\" />\r\n          </Link>\r\n        </ul>\r\n        <ul className=\"navbar-bottom-btn\">\r\n          <Link to=\"/archived\" >\r\n            <RiArchiveDrawerFill className=\"navbar-icon\" />\r\n          </Link>\r\n          <li>\r\n            <AiFillSetting className=\"navbar-icon\" />\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Navbar","import React from \"react\";\r\nimport Popup from \"reactjs-popup\";\r\nimport \"./popup.scss\";\r\n\r\nconst PopUp = ({open, close, children, image}) => {\r\n\r\n  return (\r\n    <Popup open={open} closeOnDocumentClick onClose={close}>\r\n      {/* {console.log(open)} */}\r\n      <div className=\"modal\">\r\n        <a className=\"close\" onClick={close}>\r\n          &times;\r\n        </a>\r\n        <div className=\"popup-container\" >\r\n          <div className=\"popup-image-container\">\r\n            <img src={image} className=\"popup-image\"/>\r\n          </div>\r\n          <div className=\"popup-caption\">{children}</div>\r\n        </div>\r\n      </div>\r\n    </Popup>\r\n  );\r\n};\r\n\r\nexport default PopUp;","import {useState} from 'react'\r\n\r\nconst useModals = () => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [content, setContent] = useState({image: \"\", message: \"\"});\r\n\r\n  const closeModal = () => {\r\n    setIsOpen(false);\r\n  }\r\n\r\n  const modalContent = (image, message) => {\r\n    setIsOpen(true);\r\n    setContent({image, message});\r\n  }\r\n\r\n  return {\r\n    closeModal, isOpen, modalContent, content\r\n  }\r\n}\r\n\r\nexport default useModals","import axios from \"axios\";\r\n// require(\"dotenv\").config();\r\n// const API_URL = \"https://taskr-tasktracker.herokuapp.com/api/v1\" || \"http://localhost:5000/api/v1\";\r\nconst API_URL = \"https://taskr-tasktracker.herokuapp.com/api/v1\";\r\n\r\nconst httpGetTasks = async () => {\r\n  return await axios.get(`${API_URL}/tasks`);\r\n};\r\n\r\nconst httpGetArchivedTasks = async () => {\r\n  return await axios.get(`${API_URL}/tasks/archived`);\r\n};\r\n\r\nconst httpClearArchivedTasks = async () => {\r\n  return await axios.delete(`${API_URL}/tasks/archived`);\r\n}\r\n\r\nconst httpRestoreTask = async(taskId) => {\r\n  return await axios.patch(`${API_URL}/tasks/archived/${taskId}`);\r\n}\r\n\r\nconst httpCreateTask = async (task) => {\r\n  return await axios.post(`${API_URL}/tasks`, task);\r\n};\r\n\r\nconst httpDeleteTask = async (taskID) => {\r\n  return await axios.delete(`${API_URL}/tasks/archived/${taskID}`);\r\n};\r\n\r\nconst httpGetTask = async (taskID) => {\r\n  return await axios.get(`${API_URL}/tasks/${taskID}`);\r\n};\r\n\r\nconst httpUpdateTask = async (taskID, updatedTask) => {\r\n  return await axios.patch(`${API_URL}/tasks/${taskID}`, updatedTask);\r\n};\r\n\r\nexport {\r\n  httpGetTasks,\r\n  httpCreateTask,\r\n  httpDeleteTask,\r\n  httpUpdateTask,\r\n  httpGetTask,\r\n  httpGetArchivedTasks,\r\n  httpClearArchivedTasks,\r\n  httpRestoreTask,\r\n};\r\n","import { useEffect, useState, useCallback } from \"react\";\r\nimport {\r\n  httpGetTasks,\r\n  httpCreateTask,\r\n  httpDeleteTask,\r\n  httpUpdateTask,\r\n  httpGetTask,\r\n  httpGetArchivedTasks,\r\n  httpClearArchivedTasks,\r\n  httpRestoreTask,\r\n} from \"./requests\";\r\nimport { useSearchParams } from \"react-router-dom\";\r\n\r\nconst useTasks = ({modalContent}) => {\r\n  const [searchParams, setSearchParams] = useSearchParams();\r\n  const [tasks, setTasks] = useState([]);\r\n  const [archivedTasks, setArchivedTasks] = useState([]);\r\n  const [task, setTask] = useState({});\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const id = searchParams.get(\"id\");\r\n\r\n  // GET tasks\r\n  const getTasks = useCallback(async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const resp = await httpGetTasks();\r\n      setTasks(\r\n        resp.data.sort((a, b) => {\r\n          return (\r\n            Number(new Date(b.dateCreated).getTime()) -\r\n            Number(new Date(a.dateCreated).getTime())\r\n          );\r\n        })\r\n      );\r\n      setIsLoading(false);\r\n    } catch (err) {\r\n      modalContent(\"/assets/man-stress.png\", err.response.data.error);\r\n    }\r\n  }, []);\r\n\r\n  // GET archived tasks\r\n  const getArchivedTasks = useCallback(async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const resp = await httpGetArchivedTasks();\r\n      setArchivedTasks(\r\n        resp.data.sort((a, b) => {\r\n          return (\r\n            Number(new Date(b.dateCreated).getTime()) -\r\n            Number(new Date(a.dateCreated).getTime())\r\n          );\r\n        })\r\n      );\r\n      setIsLoading(false);\r\n    } catch (err) {\r\n      modalContent(\"/assets/man-stress.png\", err.response.data.error);\r\n    }\r\n  }, []);\r\n\r\n  // DELETE archived tasks\r\n  const clearArchivedTasks = useCallback(async() => {\r\n    try {\r\n      const resp = await httpClearArchivedTasks();\r\n      getArchivedTasks();\r\n      modalContent(\"/assets/man-success.png\", resp.data.msg);\r\n    } catch (err) {\r\n      modalContent(\"/assets/man-stress.png\", err.response.data.error);\r\n    }\r\n  }, [modalContent, getArchivedTasks]);\r\n\r\n  const restoreArchivedTask = useCallback(async(taskId) => {\r\n    try {\r\n      const resp = await httpRestoreTask(taskId);\r\n      getArchivedTasks();\r\n      modalContent(\"/assets/man-success.png\", resp.data.msg);\r\n    } catch (err) {\r\n      modalContent(\"/assets/man-stress.png\", err.response.data.error);\r\n    }\r\n  }, [modalContent, getArchivedTasks]);\r\n\r\n  // GET task\r\n  const getTask = useCallback(async (taskId) => {\r\n    if (taskId !== null) {\r\n      try {\r\n        const resp = await httpGetTask(taskId);\r\n        setTask(resp.data);\r\n      } catch (err) {\r\n        modalContent(\"/assets/man-stress.png\", err.response.data.error);\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  // DELETE task\r\n  const deleteTask = useCallback(\r\n    async (taskId) => {\r\n      try {\r\n        const resp = await httpDeleteTask(taskId);\r\n        await getArchivedTasks();\r\n        modalContent(\"/assets/man-success.jpg\", resp.data.msg);\r\n      } catch (err) {\r\n        modalContent(\"/assets/man-stress.png\", err.response.data.error);\r\n      }\r\n    },\r\n    [getTasks, modalContent]\r\n  );\r\n\r\n  // POST task\r\n  const createTask = useCallback(\r\n    async (e) => {\r\n      e.preventDefault();\r\n      // * task, desc, dll namanya harus sama dengan schema db\r\n      const data = new FormData(e.target);\r\n      const task = data.get(\"task\");\r\n      const desc = data.get(\"description\");\r\n      const dueDate = new Date(data.get(\"due-date\"));\r\n      const priority = data.get(\"priority\");\r\n      const dateCreated = new Date().toLocaleString();\r\n\r\n      const dataObj = { task, desc, dueDate, priority, dateCreated };\r\n\r\n      try {\r\n        const resp = await httpCreateTask(dataObj);\r\n        await getTasks();\r\n        modalContent(\"/assets/man-success.jpg\", resp.data.msg);\r\n        e.target.reset();\r\n      } catch (err) {\r\n        modalContent(\"/assets/man-stress.png\", err.response.data.error);\r\n      }\r\n    },\r\n    [getTasks, modalContent]\r\n  );\r\n\r\n  // PATCH task\r\n  const updateTask = useCallback(\r\n    async (e) => {\r\n      e.preventDefault();\r\n      // * task, desc, dll namanya harus sama dengan schema db\r\n      const data = new FormData(e.target);\r\n      const task = data.get(\"task\");\r\n      const desc = data.get(\"description\");\r\n      const dueDate = new Date(data.get(\"due-date\"));\r\n      const priority = data.get(\"priority\");\r\n      const dateCreated = new Date().toLocaleString();\r\n\r\n      const updatedTask = { task, desc, dueDate, priority, dateCreated };\r\n\r\n      try {\r\n        const resp = await httpUpdateTask(id, updatedTask);\r\n        modalContent(\"/assets/man-success.jpg\", resp.data.msg);\r\n      } catch (err) {\r\n        modalContent(\"/assets/man-stress.png\", err.response.data.error);\r\n      }\r\n    },\r\n    [modalContent, id]\r\n  );\r\n\r\n  const archiveTask = useCallback(\r\n    async (taskId) => {\r\n      const dateArchived = new Date();\r\n      try {\r\n        const resp = await httpUpdateTask(taskId, { dateArchived });\r\n        await getTasks();\r\n        modalContent(\"/assets/man-success.jpg\", resp.data.msg);\r\n      } catch (err) {\r\n        modalContent(\"/assets/man-stress.png\", err.response.data.error);\r\n      }\r\n    },\r\n    [modalContent, getTasks]\r\n  );\r\n\r\n  useEffect(() => {\r\n    getTasks();\r\n    getArchivedTasks();\r\n  }, [getTasks, getArchivedTasks]);\r\n\r\n  useEffect(() => {\r\n    getTask(id);\r\n  }, [getTask, id]);\r\n\r\n  return {\r\n    createTask,\r\n    updateTask,\r\n    deleteTask,\r\n    archiveTask,\r\n    tasks,\r\n    task,\r\n    archivedTasks,\r\n    clearArchivedTasks,\r\n    restoreArchivedTask,\r\n    isLoading\r\n  };\r\n};\r\n\r\nexport default useTasks;\r\n"],"names":["task","id","dueDate","description","priority","dateArchived","deleteTask","archiveTask","restoreTask","className","to","d","date","Date","now","moment","format","formatDate","onClick","updateTask","tasks","message","isLoading","LoadingTasks","length","map","_id","desc","toLocaleString","width","color","ariaLabel","visible","open","close","children","image","closeOnDocumentClick","onClose","src","useState","isOpen","setIsOpen","content","setContent","closeModal","modalContent","API_URL","httpGetTasks","axios","httpGetArchivedTasks","httpClearArchivedTasks","httpRestoreTask","taskId","httpCreateTask","httpDeleteTask","taskID","httpGetTask","httpUpdateTask","updatedTask","useSearchParams","searchParams","setTasks","archivedTasks","setArchivedTasks","setTask","setIsLoading","get","getTasks","useCallback","resp","data","sort","a","b","Number","dateCreated","getTime","response","error","getArchivedTasks","clearArchivedTasks","msg","restoreArchivedTask","getTask","createTask","e","preventDefault","FormData","target","dataObj","reset","useEffect"],"sourceRoot":""}