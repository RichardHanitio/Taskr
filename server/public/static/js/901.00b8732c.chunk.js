"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[901],{5597:function(e,t,n){n.d(t,{Z:function(){return s}});n(2791);var a=n(7467),r=n(184),s=function(e){var t=e.open,n=e.close,s=e.children,c=e.image;return(0,r.jsx)(a.Z,{open:t,closeOnDocumentClick:!0,onClose:n,children:(0,r.jsxs)("div",{className:"modal",children:[(0,r.jsx)("a",{className:"close",onClick:n,children:"\xd7"}),(0,r.jsxs)("div",{className:"popup-container",children:[(0,r.jsx)("div",{className:"popup-image-container",children:(0,r.jsx)("img",{src:c,className:"popup-image"})}),(0,r.jsx)("div",{className:"popup-caption",children:s})]})]})})}},6640:function(e,t,n){var a=n(885),r=n(2791);t.Z=function(){var e=(0,r.useState)(!1),t=(0,a.Z)(e,2),n=t[0],s=t[1],c=(0,r.useState)({image:"",message:""}),i=(0,a.Z)(c,2),u=i[0],o=i[1];return{closeModal:function(){s(!1)},isOpen:n,modalContent:function(e,t){s(!0),o({image:e,message:t})},content:u}}},3402:function(e,t,n){n.d(t,{Z:function(){return v}});var a=n(8214),r=n(5861),s=n(885),c=n(2791),i=n(4569),u=n.n(i),o="https://taskr-tasktracker.herokuapp.com/api/v1",d=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().get("".concat(o,"/tasks"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().post("".concat(o,"/tasks"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().delete("".concat(o,"/tasks/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().get("".concat(o,"/tasks/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t,n){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().patch("".concat(o,"/tasks/").concat(t),n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=n(501),v=function(e){var t=e.modalContent,n=(0,h.lr)(),i=(0,s.Z)(n,2),u=i[0],o=(i[1],(0,c.useState)([])),v=(0,s.Z)(o,2),x=v[0],k=v[1],g=(0,c.useState)({}),Z=(0,s.Z)(g,2),j=Z[0],w=Z[1],N=u.get("id"),y=(0,c.useCallback)((0,r.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d();case 3:n=e.sent,k(n.data.sort((function(e,t){return Number(new Date(t.dateCreated).getTime())-Number(new Date(e.dateCreated).getTime())}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t("/assets/man-stress.png",e.t0.response.data.error);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),b=(0,c.useCallback)(function(){var e=(0,r.Z)((0,a.Z)().mark((function e(n){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===n){e.next=12;break}return e.prev=1,e.next=4,f(n);case 4:return r=e.sent,w(r.data),e.abrupt("return",j);case 9:e.prev=9,e.t0=e.catch(1),t("/assets/man-stress.png",e.t0.response.data.error);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),[]),C=(0,c.useCallback)(function(){var e=(0,r.Z)((0,a.Z)().mark((function e(n){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l(n);case 3:return r=e.sent,e.next=6,y();case 6:t("/assets/man-success.jpg",r.data.msg),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t("/assets/man-stress.png",e.t0.response.data.error);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),[y,t]),D=(0,c.useCallback)(function(){var e=(0,r.Z)((0,a.Z)().mark((function e(n){var r,s,c,i,u,o,d,l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r=new FormData(n.target),s=r.get("task"),c=r.get("description"),i=new Date(r.get("due-date")),u=r.get("priority"),o=(new Date).toLocaleString(),d={task:s,desc:c,dueDate:i,priority:u,dateCreated:o},e.prev=8,e.next=11,p(d);case 11:return l=e.sent,e.next=14,y();case 14:t("/assets/man-success.jpg",l.data.msg),n.target.reset(),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(8),t("/assets/man-stress.png",e.t0.response.data.error);case 21:case"end":return e.stop()}}),e,null,[[8,18]])})));return function(t){return e.apply(this,arguments)}}(),[y,t]),T=(0,c.useCallback)(function(){var e=(0,r.Z)((0,a.Z)().mark((function e(n){var r,s,c,i,u,o,d,p;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r=new FormData(n.target),s=r.get("task"),c=r.get("description"),i=new Date(r.get("due-date")),u=r.get("priority"),o=(new Date).toLocaleString(),d={task:s,desc:c,dueDate:i,priority:u,dateCreated:o},e.prev=8,e.next=11,m(N,d);case 11:p=e.sent,t("/assets/man-success.jpg",p.data.msg),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),t("/assets/man-stress.png",e.t0.response.data.error);case 18:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(t){return e.apply(this,arguments)}}(),[t,N]);return(0,c.useEffect)((function(){y()}),[y]),(0,c.useEffect)((function(){b(N)}),[b,N]),{createTask:D,updateTask:T,deleteTask:C,tasks:x,task:j}}},2901:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});var a=n(8214),r=n(5861),s=n(885),c=n(2791),i=n(71),u=n(6871),o=n(9126),d=n(7692),p=n(6856),l=n(2426),f=n.n(l),m=n(501),h=n(184),v=function(e){var t=e.task,n=e.deleteTask,a=e.image;return(0,h.jsxs)("div",{className:"card-container",children:[(0,h.jsxs)("div",{className:"card-left",children:[(0,h.jsx)("img",{src:a,alt:"pattern"}),(0,h.jsx)("div",{className:"card-priority card-priority-".concat(t.priority," card-priority-left")})]}),(0,h.jsxs)("div",{className:"card-right",children:[(0,h.jsx)("div",{className:"card-priority card-priority-".concat(t.priority," card-priority-right")}),(0,h.jsxs)("div",{className:"card-right-container",children:[(0,h.jsxs)("div",{className:"card-caption-container",children:[(0,h.jsx)("h1",{className:"card-title",children:t.task}),(0,h.jsx)("div",{className:"card-desc",children:t.desc}),(0,h.jsxs)("div",{className:"card-due-date",children:[(0,h.jsxs)("div",{className:"card-due-date-item",children:[(0,h.jsx)(o.ZDY,{className:"card-due-date-icon"}),(0,h.jsx)("span",{children:f()(t.dueDate).format("dddd, DD MMMM YYYY")})]}),(0,h.jsxs)("div",{className:"card-due-date-item",children:[(0,h.jsx)(o.ZEP,{className:"card-due-date-icon"}),(0,h.jsx)("span",{children:f()(t.dueDate).format("h:mm A")})]})]})]}),(0,h.jsxs)("div",{className:"card-edit-delete",children:[(0,h.jsx)(m.rU,{to:"/update?id=".concat(t._id),children:(0,h.jsx)(d.Hlf,{className:"card-edit-delete-icon"})}),(0,h.jsx)("div",{children:(0,h.jsx)(p.F1H,{className:"card-edit-delete-icon",onClick:n})})]})]})]})]})},x=n(3402),k=n(5597),g=n(4569),Z=n.n(g),j=n(6640),w=function(){var e=(0,j.Z)(),t=e.isOpen,n=e.closeModal,o=e.modalContent,d=e.content,p=(0,x.Z)({modalContent:o}),l=p.deleteTask,f=p.updateTask,m=p.task,g=(0,c.useState)(""),w=(0,s.Z)(g,2),N=w[0],y=w[1],b=(0,u.s0)(),C=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){var t,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Math.floor(3*Math.random()),"japan",n=Math.floor(11*Math.random()),e.next=5,Z().get("https://api.unsplash.com/search/photos?page=".concat(t,"&query=").concat("japan","&client_id=5NQBKN3TzC7F_U7hH5wLnSfv5cHfuE7AWCTJIsByOcE")).then((function(e){return y(e.data.results[n].urls.regular)}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){C()}),[]),(0,h.jsx)("section",{className:"viewtask-section",children:(0,h.jsxs)("div",{className:"viewtask-container",children:[(0,h.jsxs)("div",{className:"viewtask-back-btn",onClick:function(){return b(-1)},children:[(0,h.jsx)(i.yGG,{className:"viewtask-back-btn-icon"}),(0,h.jsx)("span",{children:"Back"})]}),(0,h.jsx)(v,{task:m,deleteTask:function(){l(m._id)},updateTask:function(){return f(m._id)},className:"viewtask-card",image:N}),(0,h.jsx)(k.Z,{open:t,close:n,image:d.image,children:d.message})]})})}}}]);
//# sourceMappingURL=901.00b8732c.chunk.js.map