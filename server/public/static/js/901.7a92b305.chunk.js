"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[901],{5597:function(e,t,r){r.d(t,{Z:function(){return s}});r(2791);var n=r(7467),a=r(184),s=function(e){var t=e.open,r=e.close,s=e.children,c=e.image;return(0,a.jsx)(n.Z,{open:t,closeOnDocumentClick:!0,onClose:r,children:(0,a.jsxs)("div",{className:"modal",children:[(0,a.jsx)("a",{className:"close",onClick:r,children:"\xd7"}),(0,a.jsxs)("div",{className:"popup-container",children:[(0,a.jsx)("div",{className:"popup-image-container",children:(0,a.jsx)("img",{src:c,className:"popup-image"})}),(0,a.jsx)("div",{className:"popup-caption",children:s})]})]})})}},2995:function(e,t,r){r.d(t,{DF:function(){return o},HK:function(){return l},SE:function(){return i},Y0:function(){return v},_v:function(){return d},rN:function(){return f},tC:function(){return p},y5:function(){return m}});var n=r(4165),a=r(5861),s=r(4569),c=r.n(s),u="https://taskr-tasktracker.herokuapp.com/api/v1",i=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().get("".concat(u,"/tasks"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().get("".concat(u,"/tasks/archived"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().delete("".concat(u,"/tasks/archived"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().patch("".concat(u,"/tasks/archived/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().post("".concat(u,"/tasks"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().delete("".concat(u,"/tasks/archived/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().get("".concat(u,"/tasks/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().patch("".concat(u,"/tasks/").concat(t),r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},6640:function(e,t,r){var n=r(885),a=r(2791);t.Z=function(){var e=(0,a.useState)(!1),t=(0,n.Z)(e,2),r=t[0],s=t[1],c=(0,a.useState)({image:"",message:""}),u=(0,n.Z)(c,2),i=u[0],o=u[1];return{closeModal:function(){s(!1)},isOpen:r,modalContent:function(e,t){s(!0),o({image:e,message:t})},content:i}}},3848:function(e,t,r){var n=r(4165),a=r(5861),s=r(885),c=r(2791),u=r(2995),i=r(6731);t.Z=function(e){var t=e.modalContent,r=(0,i.lr)(),o=(0,s.Z)(r,2),p=o[0],d=(o[1],(0,c.useState)([])),l=(0,s.Z)(d,2),f=l[0],v=l[1],m=(0,c.useState)([]),h=(0,s.Z)(m,2),k=h[0],x=h[1],Z=(0,c.useState)({}),g=(0,s.Z)(Z,2),w=g[0],j=g[1],b=(0,c.useState)(!1),N=(0,s.Z)(b,2),y=N[0],C=N[1],D=p.get("id"),T=(0,c.useCallback)((0,a.Z)((0,n.Z)().mark((function e(){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,C(!0),e.next=4,(0,u.SE)();case 4:r=e.sent,v(r.data.sort((function(e,t){return Number(new Date(t.dateCreated).getTime())-Number(new Date(e.dateCreated).getTime())}))),C(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t("/assets/man-stress.png",e.t0.response.data.error);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),[]),S=(0,c.useCallback)((0,a.Z)((0,n.Z)().mark((function e(){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,C(!0),e.next=4,(0,u.DF)();case 4:r=e.sent,x(r.data.sort((function(e,t){return Number(new Date(t.dateCreated).getTime())-Number(new Date(e.dateCreated).getTime())}))),C(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t("/assets/man-stress.png",e.t0.response.data.error);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),[]),M=(0,c.useCallback)((0,a.Z)((0,n.Z)().mark((function e(){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.tC)();case 3:r=e.sent,S(),t("/assets/man-success.png",r.data.msg),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t("/assets/man-stress.png",e.t0.response.data.error);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[t,S]),E=(0,c.useCallback)(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u._v)(r);case 3:a=e.sent,S(),t("/assets/man-success.png",a.data.msg),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t("/assets/man-stress.png",e.t0.response.data.error);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),[t,S]),Y=(0,c.useCallback)(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===r){e.next=11;break}return e.prev=1,e.next=4,(0,u.Y0)(r);case 4:a=e.sent,j(a.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t("/assets/man-stress.png",e.t0.response.data.error);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),[]),_=(0,c.useCallback)(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.rN)(r);case 3:return a=e.sent,e.next=6,S();case 6:t("/assets/man-success.jpg",a.data.msg),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t("/assets/man-stress.png",e.t0.response.data.error);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),[T,t]),F=(0,c.useCallback)(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var a,s,c,i,o,p,d,l;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),a=new FormData(r.target),s=a.get("task"),c=a.get("description"),i=new Date(a.get("due-date")),o=a.get("priority"),p=(new Date).toLocaleString(),d={task:s,desc:c,dueDate:i,priority:o,dateCreated:p},e.prev=8,e.next=11,(0,u.HK)(d);case 11:return l=e.sent,e.next=14,T();case 14:t("/assets/man-success.jpg",l.data.msg),r.target.reset(),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(8),t("/assets/man-stress.png",e.t0.response.data.error);case 21:case"end":return e.stop()}}),e,null,[[8,18]])})));return function(t){return e.apply(this,arguments)}}(),[T,t]),H=(0,c.useCallback)(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var a,s,c,i,o,p,d,l;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),a=new FormData(r.target),s=a.get("task"),c=a.get("description"),i=new Date(a.get("due-date")),o=a.get("priority"),p=(new Date).toLocaleString(),d={task:s,desc:c,dueDate:i,priority:o,dateCreated:p},e.prev=8,e.next=11,(0,u.y5)(D,d);case 11:l=e.sent,t("/assets/man-success.jpg",l.data.msg),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),t("/assets/man-stress.png",e.t0.response.data.error);case 18:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(t){return e.apply(this,arguments)}}(),[t,D]),A=(0,c.useCallback)(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var a,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Date,e.prev=1,e.next=4,(0,u.y5)(r,{dateArchived:a});case 4:return s=e.sent,e.next=7,T();case 7:t("/assets/man-success.jpg",s.data.msg),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t("/assets/man-stress.png",e.t0.response.data.error);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),[t,T]);return(0,c.useEffect)((function(){T(),S()}),[T,S]),(0,c.useEffect)((function(){Y(D)}),[Y,D]),{createTask:F,updateTask:H,deleteTask:_,archiveTask:A,tasks:f,task:w,archivedTasks:k,clearArchivedTasks:M,restoreArchivedTask:E,isLoading:y}}},2901:function(e,t,r){r.r(t),r.d(t,{default:function(){return j}});var n=r(4165),a=r(5861),s=r(885),c=r(2791),u=r(71),i=r(7689),o=r(9126),p=r(7692),d=r(6856),l=r(2426),f=r.n(l),v=r(6731),m=r(184),h=function(e){var t=e.task,r=e.deleteTask,n=e.image;return(0,m.jsxs)("div",{className:"card-container",children:[(0,m.jsxs)("div",{className:"card-left",children:[(0,m.jsx)("img",{src:n,alt:"pattern"}),(0,m.jsx)("div",{className:"card-priority card-priority-".concat(t.priority," card-priority-left")})]}),(0,m.jsxs)("div",{className:"card-right",children:[(0,m.jsx)("div",{className:"card-priority card-priority-".concat(t.priority," card-priority-right")}),(0,m.jsxs)("div",{className:"card-right-container",children:[(0,m.jsxs)("div",{className:"card-caption-container",children:[(0,m.jsx)("h1",{className:"card-title",children:t.task}),(0,m.jsx)("div",{className:"card-desc",children:t.desc}),(0,m.jsxs)("div",{className:"card-due-date",children:[(0,m.jsxs)("div",{className:"card-due-date-item",children:[(0,m.jsx)(o.ZDY,{className:"card-due-date-icon"}),(0,m.jsx)("span",{children:f()(t.dueDate).format("dddd, DD MMMM YYYY")})]}),(0,m.jsxs)("div",{className:"card-due-date-item",children:[(0,m.jsx)(o.ZEP,{className:"card-due-date-icon"}),(0,m.jsx)("span",{children:f()(t.dueDate).format("h:mm A")})]})]})]}),(0,m.jsxs)("div",{className:"card-edit-delete",children:[(0,m.jsx)(v.rU,{to:"/update?id=".concat(t._id),children:(0,m.jsx)(p.Hlf,{className:"card-edit-delete-icon"})}),(0,m.jsx)("div",{children:(0,m.jsx)(d.F1H,{className:"card-edit-delete-icon",onClick:r})})]})]})]})]})},k=r(3848),x=r(5597),Z=r(4569),g=r.n(Z),w=r(6640),j=function(){var e=(0,w.Z)(),t=e.isOpen,r=e.closeModal,o=e.modalContent,p=e.content,d=(0,k.Z)({modalContent:o}),l=d.deleteTask,f=d.updateTask,v=d.task,Z=(0,c.useState)(""),j=(0,s.Z)(Z,2),b=j[0],N=j[1],y=(0,i.s0)(),C=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t,r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Math.floor(3*Math.random()),"japan",r=Math.floor(11*Math.random()),e.next=5,g().get("https://api.unsplash.com/search/photos?page=".concat(t,"&query=").concat("japan","&client_id=5NQBKN3TzC7F_U7hH5wLnSfv5cHfuE7AWCTJIsByOcE")).then((function(e){return N(e.data.results[r].urls.regular)}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){C()}),[]),(0,m.jsx)("section",{className:"viewtask-section",children:(0,m.jsxs)("div",{className:"viewtask-container",children:[(0,m.jsxs)("div",{className:"viewtask-back-btn",onClick:function(){return y(-1)},children:[(0,m.jsx)(u.yGG,{className:"viewtask-back-btn-icon"}),(0,m.jsx)("span",{children:"Back"})]}),(0,m.jsx)(h,{task:v,deleteTask:function(){l(v._id)},updateTask:function(){return f(v._id)},className:"viewtask-card",image:b}),(0,m.jsx)(x.Z,{open:t,close:r,image:p.image,children:p.message})]})})}}}]);
//# sourceMappingURL=901.7a92b305.chunk.js.map